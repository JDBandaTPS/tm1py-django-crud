{% extends 'partials/base.html' %}
{% load static %}

{% block intern %}
<strong class="text-muted">Click a year if you want to delete it</strong>
<table class="table table-striped-columns table-hover">
    <tr>
        <th>TM1 Server</th>
        <th>Years</th>
    </tr>
    <tr id="retail">
        <td>24Retail</td>
        <td>
            {% for x in yearti_24retail %}
            <button class="btn btn-warning" server="1">{{x.name}}</button>
            {% endfor %}
        </td>
    </tr>
    <tr id="carsales">
        <td>CarSales</td>
        <td>
            {% for x in yearti_carsales %}
            <button class="btn btn-warning" server="2">{{x.name}}</button>
            {% endfor %}
        </td>
    </tr>
    <tr id="coffee">
        <td>Coffee</td>
        <td>
            {% for x in yearti_coffee %}
            <button class="btn btn-warning" server="3">{{x.name}}</button>
            {% endfor %}
        </td>
    </tr>
    <tr id="demo">
        <td>Demo Guide</td>
        <td>
            {% for x in yearti_demo %}
            <button class="btn btn-warning" server="4">{{x.name}}</button>
            {% endfor %}
        </td>
    </tr>
    <tr id="go">
        <td>GO Scorecards</td>
        <td>
            {% for x in yearti_go %}
            <button class="btn btn-warning" server="5">{{x.name}}</button>
            {% endfor %}
        </td>
    </tr>
</table>
<hr>
<div class="container">
    <strong class="text-muted">Fill the data if you want to add years</strong>
    <form action="{% url 'process-years' %}" method="post" id="create-years">
        {% csrf_token %}
        <div class="mb-3">
            <label for="year" class="form-label">Enter a Year</label>
            <input type="number" class="form-control" id="year" name="year" min="1800" max="2030" step="1" required>
        </div>
        <div class="mb-3">
            <label class="form-label">Select the servers you want to update the Year_TI dimension</label>
            <select name="server" id="server" multiple class="form-control" required>
                <option value="1">24 Retail</option>
                <option value="2">Car Sales</option>
                <option value="3">Coffee</option>
                <option value="4">Demo Guide</option>
                <option value="5">GO scorecards</option>
            </select>
        </div>
        <div class="mb-3">
            <button type="submit" class="btn btn-primary">Submit</button>
        </div>
    </form>
</div>

{% endblock intern %}
{% block final-imports %}
<!--SweetAlert2-->
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="{% static 'js/records.js' %}"></script>
{% endblock final-imports %}